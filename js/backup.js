$(document).ready(function ready() {
  "use strict";
  let counterTotal = $("#counterTotal");
  let counter;
  const coinHTML =
    "<div class='unit'><b><i aria-hidden='true' class='fas fa-euro-sign'></i></b></div>";
  let calculatedWeights = [];
  let newArr = [];
  let jsonData = [
    {
      Jan: 0.99482768,
      Feb: 1.002448943,
      Mar: 0.998880735,
      Apr: 1.005324257,
      May: 1.000099037,
      Jun: 0.999389381,
      Jul: 1.000946324,
      Aug: 1.002647255,
      Sep: 1.001916043,
      Oct: 1.003368431,
      Nov: 0.999758556,
      Dec: 1.006620653
    },
    {
      Jan: 1.019145958,
      Feb: 1.001016596,
      Mar: 1.00311856,
      Apr: 0.995140471,
      May: 1.007109039,
      Jun: 1.000086543,
      Jul: 0.994149667,
      Aug: 0.9993684,
      Sep: 1.002571778,
      Oct: 0.998832278,
      Nov: 0.999533796,
      Dec: 1.007450577
    },
    {
      Jan: 1.025397783,
      Feb: 1.001276134,
      Mar: 1.000442315,
      Apr: 0.999830767,
      May: 1.00003044,
      Jun: 1.00105987,
      Jul: 1.002049876,
      Aug: 1.004148044,
      Sep: 1.002806112,
      Oct: 1.000268363,
      Nov: 1.000329593,
      Dec: 1.012561416
    },
    {
      Jan: 0.892639749,
      Feb: 1.082385608,
      Mar: 1.026534744,
      Apr: 1.003300132,
      May: 1.002670949,
      Jun: 0.958042312,
      Jul: 0.948387713,
      Aug: 1.067056237,
      Sep: 1.028596714,
      Oct: 1.010493414,
      Nov: 0.999843383,
      Dec: 0.986522288
    },
    {
      Jan: 1.001969727,
      Feb: 1.01196195,
      Mar: 1.002242788,
      Apr: 0.992579257,
      May: 0.99929164,
      Jun: 0.996228671,
      Jul: 1.002078603,
      Aug: 1.000219143,
      Sep: 1.007519814,
      Oct: 1.006054685,
      Nov: 1.004817035,
      Dec: 1.003701083
    },
    {
      Jan: 0.944162,
      Feb: 0.968511,
      Mar: 0.999697,
      Apr: 0.996503,
      May: 0.996396,
      Jun: 0.993231,
      Jul: 0.993117,
      Aug: 0.967655,
      Sep: 0.983207,
      Oct: 0.996364,
      Nov: 1.009577,
      Dec: 0.996375
    },
    {
      Jan: 0.995417514,
      Feb: 1.007579853,
      Mar: 1.002954418,
      Apr: 1.001562083,
      May: 1.004782158,
      Jun: 0.98949311,
      Jul: 0.998830285,
      Aug: 1.011308582,
      Sep: 1.00147361,
      Oct: 1.017271417,
      Nov: 0.998542262,
      Dec: 0.997753258
    },
    {
      Jan: 1.007219771,
      Feb: 1.0003655,
      Mar: 0.999699778,
      Apr: 0.998373685,
      May: 0.999897184,
      Jun: 1.000516351,
      Jul: 1.000891713,
      Aug: 0.997605385,
      Sep: 0.999781401,
      Oct: 0.997775221,
      Nov: 0.998971458,
      Dec: 1.000274286
    },
    {
      Jan: 1.027651054,
      Feb: 1.010999093,
      Mar: 1.012232655,
      Apr: 1.012675828,
      May: 0.995077844,
      Jun: 0.98830439,
      Jul: 0.99291723,
      Aug: 1.016360595,
      Sep: 1.013090334,
      Oct: 0.994895157,
      Nov: 0.98431485,
      Dec: 0.992036274
    },
    {
      Jan: 0.949001474,
      Feb: 1.088367712,
      Mar: 1.143831601,
      Apr: 0.912012611,
      May: 0.996895856,
      Jun: 1.087733076,
      Jul: 1.093973817,
      Aug: 1.005466026,
      Sep: 0.904794063,
      Oct: 0.900185645,
      Nov: 0.973702308,
      Dec: 1.034043881
    },
    {
      Jan: 1.002436743,
      Feb: 1.001316475,
      Mar: 0.999862927,
      Apr: 0.993456494,
      May: 0.993463239,
      Jun: 0.997183815,
      Jul: 0.996406098,
      Aug: 0.995252873,
      Sep: 0.993963946,
      Oct: 0.992112024,
      Nov: 0.989558103,
      Dec: 0.989493415
    },
    {
      Jan: 0.995616981,
      Feb: 0.999432784,
      Mar: 1.00041632,
      Apr: 1.001692019,
      May: 0.993603943,
      Jun: 0.999410509,
      Jul: 0.995883132,
      Aug: 1.003244278,
      Sep: 0.997576645,
      Oct: 1.005638234,
      Nov: 1.00196609,
      Dec: 0.999065523
    },
    {
      Jan: 0.994687468,
      Feb: 1.002054095,
      Mar: 1.005606956,
      Apr: 1.004490466,
      May: 1.003683519,
      Jun: 1.009061039,
      Jul: 1.003897987,
      Aug: 1.002015432,
      Sep: 0.994899813,
      Oct: 1.002553663,
      Nov: 0.989302892,
      Dec: 0.998191845
    },
    {
      Jan: 1.00714953,
      Feb: 1.004462319,
      Mar: 1.021460871,
      Apr: 1.015161982,
      May: 0.998779619,
      Jun: 1.001683985,
      Jul: 0.999105434,
      Aug: 0.99985894,
      Sep: 0.995730578,
      Oct: 1.007705749,
      Nov: 0.999563858,
      Dec: 1.006645227
    }
  ];
  let globalDiff;
  let coinWeights = [5, 4, 1, 2, 2, 2, 5, 1, 6, 1, 1, 4, 5, 5];
  let nationalCPI = [
    99.5,
    100.4,
    101.4,
    101.4,
    101.4,
    101.2,
    101.1,
    101.7,
    101.6,
    101.5,
    101.1,
    101.2
  ];
  let personalCPI = [];
  let percentageChangePersonal = [];
  let percentageChangeNational = [
    1.009045226,
    1.009960159,
    1,
    1,
    0.998027613,
    0.999011858,
    1.005934718,
    0.999016716,
    0.999015748,
    0.996059113,
    1.00098912
  ];
  let months = [
    "Jan",
    "Feb",
    "Mar",
    "Apr",
    "Mar",
    "Jun",
    "Jul",
    "Aug",
    "Sep",
    "Oct",
    "Nov",
    "Dec"
  ];
  let containers = [
    document.querySelector("#cartItem1"), // Food
    document.querySelector("#cartItem2"), // Alcohol
    document.querySelector("#cartItem3"), // Tobacco
    document.querySelector("#cartItem4"), // Clothing
    document.querySelector("#cartItem5"), // Rent
    document.querySelector("#cartItem6"), // Mortage
    document.querySelector("#cartItem7"), // Housing
    document.querySelector("#cartItem8"), // Health
    // 9 is skipped
    document.querySelector("#cartItem10"), // Car
    document.querySelector("#cartItem11"), // Public Transport
    document.querySelector("#cartItem12"), // Telecommunications
    document.querySelector("#cartItem13"), // Education
    document.querySelector("#cartItem14"), // Recreation
    // 15 is not in 2012 data
    document.querySelector("#cartItem16") // Other
  ];
  var coinsRemaining;
  let coinsInUse;
  // set default values based on radio buttons
  coinWeights[5] = 0;
  coinWeights[2] = 0;
  coinsRemaining = 3;
  counterTotal.innerHTML = 3;
  coinsInUse = coinWeights.reduce(function(a, b) {
    return a + b;
  }, 0);

  let mattsJSON = [
    "PIC Categories",
    {
      "2008": [
        {
          Apr: 1.04406792172,
          May: 0.990558043175,
          Jun: 0.982285199893,
          Jul: 1.02175885856,
          Aug: 0.983229000804,
          Sep: 1.01247390234,
          Oct: 0.991971904785,
          Nov: 1.00387874077,
          Dec: 0.991898973676
        },
        {
          Apr: 0.963758509112,
          May: 1.03022586714,
          Jun: 0.993160767196,
          Jul: 0.993016898296,
          Aug: 1.00197201129,
          Sep: 1.00266848668,
          Oct: 0.998967854539,
          Nov: 1.00468834748,
          Dec: 0.963260653648
        },
        {
          Apr: 1.03661784745,
          May: 1.00375654051,
          Jun: 0.982328554924,
          Jul: 1.02308615319,
          Aug: 0.988779319421,
          Sep: 1.00474876721,
          Oct: 0.993547213546,
          Nov: 1.0540864075,
          Dec: 0.824917425565
        },
        {
          Apr: 3.23725002735,
          May: 0.596354236599,
          Jun: 1.04846747691,
          Jul: 0.930246652284,
          Aug: 1.59994367792,
          Sep: 0.430645763185,
          Oct: 1.83529865013,
          Nov: 1.00047152402,
          Dec: 0.733560012049
        },
        {
          Apr: 1.03380229057,
          May: 1.01789335941,
          Jun: 0.988429777109,
          Jul: 0.978099725964,
          Aug: 0.99623431388,
          Sep: 1.11344517603,
          Oct: 0.841634679871,
          Nov: 1.05155605379,
          Dec: 1.25698286313
        },
        {
          Apr: 1.02665993958,
          May: 1.01817668352,
          Jun: 0.934631639114,
          Jul: 1.08975501615,
          Aug: 0.958980835608,
          Sep: 0.917626118388,
          Oct: 1.21057133412,
          Nov: 0.792848713317,
          Dec: 1.36240076221
        },
        {
          Apr: 1.04588747736,
          May: 1.02515591796,
          Jun: 0.935444968355,
          Jul: 1.05342678962,
          Aug: 1.00112023479,
          Sep: 0.953928990462,
          Oct: 1.03847104897,
          Nov: 1.00860103854,
          Dec: 0.977791464281
        },
        {
          Apr: 0.955930416843,
          May: 0.987243921985,
          Jun: 1.01717759892,
          Jul: 0.999904395307,
          Aug: 0.995661650263,
          Sep: 0.987571674549,
          Oct: 1.02412837009,
          Nov: 1.00007575422,
          Dec: 0.965726027622
        },
        {
          Apr: 0.94783613878,
          May: 1.07763356002,
          Jun: 0.929891803249,
          Jul: 1.0208462799,
          Aug: 1.03394371695,
          Sep: 1.00002005275,
          Oct: 0.931325749889,
          Nov: 1.08178465421,
          Dec: 0.966709204747
        },
        {
          Apr: 1.06195859342,
          May: 1.95056365306,
          Jun: 0.444083536777,
          Jul: 1.36680391877,
          Aug: 0.970087878472,
          Sep: 1.15137874227,
          Oct: 0.846669279146,
          Nov: 1.06310110495,
          Dec: 0.920513336703
        },
        {
          Apr: 0.999166874714,
          May: 1.00200416559,
          Jun: 0.998326166934,
          Jul: 1.00122982098,
          Aug: 0.999095535812,
          Sep: 1.01302323501,
          Oct: 0.9494941169,
          Nov: 1.08288007376,
          Dec: 0.948877063217
        },
        {
          Apr: 1.03261304534,
          May: 0.979925592151,
          Jun: 0.988635165827,
          Jul: 1.02419477518,
          Aug: 0.997320283055,
          Sep: 0.99354812586,
          Oct: 0.992820868712,
          Nov: 1.01080391641,
          Dec: 1.00256323711
        },
        {
          Apr: 1.01682054594,
          May: 0.992890667081,
          Jun: 0.982531466756,
          Jul: 1.03258104095,
          Aug: 0.9804803578,
          Sep: 0.998119622004,
          Oct: 1.04755302437,
          Nov: 0.867498862062,
          Dec: 1.20171805376
        },
        {
          Apr: 1.03333870703,
          May: 0.981048304867,
          Jun: 1.01740454748,
          Jul: 0.978413678236,
          Aug: 1.03081838036,
          Sep: 0.96179716241,
          Oct: 1.04527195286,
          Nov: 0.947419278309,
          Dec: 1.04424614691
        }
      ]
    },
    {
      "2009": [
        {
          Jan: 1.01666468281,
          Feb: 0.9806712502,
          Mar: 1.02002771448,
          Apr: 0.986916821786,
          May: 1.00765375159,
          Jun: 0.983413645534,
          Jul: 1.02267566847,
          Aug: 0.9942617562,
          Sep: 0.980827055149,
          Oct: 1.03504477639,
          Nov: 0.963003302694,
          Dec: 1.03169068259
        },
        {
          Jan: 1.08939355786,
          Feb: 0.901393331366,
          Mar: 1.08840236474,
          Apr: 0.95374077676,
          May: 1.01307371839,
          Jun: 1.00030600796,
          Jul: 1.00260208093,
          Aug: 0.993021078067,
          Sep: 1.00846788261,
          Oct: 0.990957054347,
          Nov: 1.0061813608,
          Dec: 0.991512618659
        },
        {
          Jan: 1.31728018631,
          Feb: 0.849231729388,
          Mar: 1.02498285339,
          Apr: 1.0421713026,
          May: 0.875393347292,
          Jun: 1.20611754254,
          Jul: 0.893606168304,
          Aug: 1.02253185038,
          Sep: 0.998860195493,
          Oct: 1.0036139899,
          Nov: 0.997750283039,
          Dec: 1.00113353923
        },
        {
          Jan: 1.18218714826,
          Feb: 1.49882419386,
          Mar: 0.376690736798,
          Apr: 2.14113941914,
          May: 0.99179190224,
          Jun: 0.679392728972,
          Jul: 1.27583469538,
          Aug: 1.24362881216,
          Sep: 0.545730864653,
          Oct: 1.55248476666,
          Nov: 1.01327698291,
          Dec: 0.809597343173
        },
        {
          Jan: 0.676973292338,
          Feb: 1.23257396435,
          Mar: 1.18205582916,
          Apr: 0.690754746854,
          May: 1.25659486573,
          Jun: 1.06675569521,
          Jul: 0.810233922911,
          Aug: 1.12980985452,
          Sep: 1.05864818831,
          Oct: 0.867381929493,
          Nov: 1.07883060966,
          Dec: 1.05262561357
        },
        {
          Jan: 0.700056342432,
          Feb: 1.5013280669,
          Mar: 0.669777798858,
          Apr: 1.02166381251,
          May: 1.67498905083,
          Jun: 0.503739022227,
          Jul: 1.64789839762,
          Aug: 0.764737838348,
          Sep: 1.03322544213,
          Oct: 1.16577562962,
          Nov: 0.876816868331,
          Dec: 1.03180474195
        },
        {
          Jan: 1.00606007307,
          Feb: 1.02055043151,
          Mar: 0.938900184885,
          Apr: 1.07600190475,
          May: 0.941319697517,
          Jun: 1.10844061063,
          Jul: 0.85565181832,
          Aug: 1.15246431581,
          Sep: 0.8970191056,
          Oct: 1.09084358572,
          Nov: 0.972724245994,
          Dec: 0.953737891987
        },
        {
          Jan: 1.13153072975,
          Feb: 0.704075322227,
          Mar: 1.63768345046,
          Apr: 0.721737930881,
          May: 1.0983580303,
          Jun: 0.990955619824,
          Jul: 0.990844693217,
          Aug: 1.01211695487,
          Sep: 0.993253594259,
          Oct: 1.00906263198,
          Nov: 0.992485503681,
          Dec: 1.00052875174
        },
        {
          Jan: 1.02394619811,
          Feb: 0.939347464907,
          Mar: 1.07130517428,
          Apr: 0.972661527753,
          May: 0.967713376599,
          Jun: 1.08959102475,
          Jul: 0.904606461299,
          Aug: 1.1034017684,
          Sep: 0.914910044754,
          Oct: 1.04856051857,
          Nov: 1.02662687952,
          Dec: 0.908428639082
        },
        {
          Jan: 1.22114306224,
          Feb: 0.823271195205,
          Mar: 1.02231014072,
          Apr: 1.03225531921,
          May: 1.19378624485,
          Jun: 0.7547806329,
          Jul: 1.13487218052,
          Aug: 0.976932413805,
          Sep: 0.93821190227,
          Oct: 1.42713875904,
          Nov: 0.598938868412,
          Dec: 1.31126691557
        },
        {
          Jan: 1.00815648658,
          Feb: 1.00818477429,
          Mar: 0.991227932341,
          Apr: 1.00739701967,
          May: 0.997919906304,
          Jun: 0.998231105126,
          Jul: 1.00101389948,
          Aug: 0.999754347718,
          Sep: 1.00122943811,
          Oct: 0.998473441025,
          Nov: 1.0006680727,
          Dec: 0.999993956133
        },
        {
          Jan: 0.967940458999,
          Feb: 1.07533096433,
          Mar: 0.915448925474,
          Apr: 1.07231370102,
          May: 0.954358322149,
          Jun: 1.02161075109,
          Jul: 0.997055119165,
          Aug: 1.02306417918,
          Sep: 0.947071984096,
          Oct: 1.05897113757,
          Nov: 0.968066052012,
          Dec: 0.999104591715
        },
        {
          Jan: 0.910006605005,
          Feb: 1.0074634759,
          Mar: 0.996241585723,
          Apr: 1.01326008425,
          May: 0.994036823998,
          Jun: 1.00461338849,
          Jul: 0.989255246423,
          Aug: 1.00876412871,
          Sep: 1.00457895509,
          Oct: 1.09306834435,
          Nov: 0.676019492053,
          Dec: 1.7770003869
        },
        {
          Jan: 0.984644112495,
          Feb: 1.03544068061,
          Mar: 0.916335174918,
          Apr: 1.10306431768,
          May: 0.936957927604,
          Jun: 1.03013804124,
          Jul: 0.985457187281,
          Aug: 1.02807380027,
          Sep: 0.959180408867,
          Oct: 1.02660738273,
          Nov: 0.999241642931,
          Dec: 0.996177422059
        }
      ]
    },
    {
      "2010": [
        {
          Jan: 0.981318690724,
          Feb: 1.00511618236,
          Mar: 1.00221261928,
          Apr: 1.00007449968,
          May: 1.00353588252,
          Jun: 0.980737944076,
          Jul: 1.03119639811,
          Aug: 0.968350805376,
          Sep: 1.03185214333,
          Oct: 0.981166540395,
          Nov: 0.99538083616,
          Dec: 1.01846324934
        },
        {
          Jan: 1.02506414493,
          Feb: 0.988607850779,
          Mar: 0.969032038949,
          Apr: 1.03938343975,
          May: 0.976629152304,
          Jun: 1.01845288711,
          Jul: 0.997426272556,
          Aug: 0.982065594059,
          Sep: 1.021880235,
          Oct: 0.990440655551,
          Nov: 0.985581207555,
          Dec: 1.03969167138
        },
        {
          Jan: 1.00087889677,
          Feb: 0.995109299759,
          Mar: 1.00737986752,
          Apr: 0.995973887392,
          May: 0.998491484214,
          Jun: 1.00285610893,
          Jul: 1.00518749588,
          Aug: 0.978308795094,
          Sep: 1.03094866943,
          Oct: 0.978777698797,
          Nov: 1.01054276833,
          Dec: 0.994735118047
        },
        {
          Jan: 1.14792584182,
          Feb: 1.24017990249,
          Mar: 0.507112078232,
          Apr: 1.94877061835,
          May: 0.787093359136,
          Jun: 0.998274815013,
          Jul: 0.934293142636,
          Aug: 1.37634722707,
          Sep: 0.591216535706,
          Oct: 1.39171701892,
          Nov: 1.08596782736,
          Dec: 0.763237788676
        },
        {
          Jan: 0.899661444594,
          Feb: 1.05682901089,
          Mar: 1.01550992843,
          Apr: 0.96244894804,
          May: 1.03395470099,
          Jun: 0.952898539902,
          Jul: 1.07359378316,
          Aug: 0.939568347739,
          Sep: 1.04121164412,
          Oct: 0.974296503027,
          Nov: 0.998409214111,
          Dec: 1.04339448719
        },
        {
          Jan: 0.999393731068,
          Feb: 1.03192802229,
          Mar: 0.88558862405,
          Apr: 1.23329584011,
          May: 0.837378527299,
          Jun: 0.969190481336,
          Jul: 1.26845136997,
          Aug: 0.893546016058,
          Sep: 0.731832933611,
          Oct: 1.71069619028,
          Nov: 0.71889265724,
          Dec: 1.06156431633
        },
        {
          Jan: 1.05924270523,
          Feb: 0.998625861243,
          Mar: 0.954770250473,
          Apr: 1.04470158655,
          May: 0.980862390117,
          Jun: 0.994071921252,
          Jul: 1.03084653549,
          Aug: 0.967780571469,
          Sep: 1.01540025773,
          Oct: 1.00399557121,
          Nov: 0.972751476295,
          Dec: 1.0496866338
        },
        {
          Jan: 1.02334325776,
          Feb: 0.9185351103,
          Mar: 1.12262430901,
          Apr: 0.941993445421,
          May: 1.0051029266,
          Jun: 1.00155518602,
          Jul: 0.99929743226,
          Aug: 0.995865575967,
          Sep: 1.00925097808,
          Oct: 1.01315024273,
          Nov: 0.951116995516,
          Dec: 1.06761000305
        },
        {
          Jan: 1.14957298611,
          Feb: 0.848131985605,
          Mar: 1.16429251321,
          Apr: 0.914297670456,
          May: 1.0111752751,
          Jun: 1.02854460834,
          Jul: 0.998915949154,
          Aug: 0.964990053051,
          Sep: 1.0306517249,
          Oct: 0.992178632163,
          Nov: 0.997866135763,
          Dec: 1.02546505941
        },
        {
          Jan: 0.916075542541,
          Feb: 1.36277024937,
          Mar: 0.569646605587,
          Apr: 1.45488901599,
          May: 1.11916427595,
          Jun: 0.669288617426,
          Jul: 1.41786121927,
          Aug: 0.855784063807,
          Sep: 0.863382955448,
          Oct: 1.75880699452,
          Nov: 0.481581186127,
          Dec: 1.57991852478
        },
        {
          Jan: 0.999013026323,
          Feb: 1.00361015519,
          Mar: 0.995144344559,
          Apr: 1.0013808973,
          May: 1.00375983266,
          Jun: 0.994437689419,
          Jul: 1.03183012313,
          Aug: 0.898001522286,
          Sep: 1.16103487009,
          Oct: 0.917806783991,
          Nov: 1.01184959935,
          Dec: 1.00293614945
        },
        {
          Jan: 1.01620052562,
          Feb: 0.996537680968,
          Mar: 0.992100545233,
          Apr: 0.98480063514,
          May: 1.04960276669,
          Jun: 0.956172010439,
          Jul: 1.0182647084,
          Aug: 0.996117949471,
          Sep: 0.99401700541,
          Oct: 1.02569131633,
          Nov: 0.96473818584,
          Dec: 1.03198470628
        },
        {
          Jan: 0.70352195078,
          Feb: 1.06107919569,
          Mar: 1.00908370054,
          Apr: 1.04352946915,
          May: 0.919028318706,
          Jun: 1.06525010044,
          Jul: 0.98363068142,
          Aug: 0.999231197034,
          Sep: 1.00100363232,
          Oct: 0.992596977318,
          Nov: 1.02565742856,
          Dec: 0.967491764353
        },
        {
          Jan: 0.979770500221,
          Feb: 1.03573725203,
          Mar: 0.968942907744,
          Apr: 1.09565936175,
          May: 0.844375081493,
          Jun: 1.13971865441,
          Jul: 0.961036508547,
          Aug: 1.00498382081,
          Sep: 0.995779408487,
          Oct: 1.01053281289,
          Nov: 0.975570081283,
          Dec: 1.04228310562
        }
      ]
    },
    {
      "2011": [
        {
          Jan: 0.984213806488,
          Feb: 1.00777279962,
          Mar: 0.993296477618,
          Apr: 1.0109981407,
          May: 0.995911005469,
          Jun: 0.992223604382,
          Jul: 1.01342501863,
          Aug: 0.982492169795,
          Sep: 1.01435220941,
          Oct: 1.00216983974,
          Nov: 0.986592972761,
          Dec: 1.00987709958
        },
        {
          Jan: 0.9966630438,
          Feb: 0.918170467072,
          Mar: 1.09393655952,
          Apr: 1.00866256283,
          May: 0.942387698716,
          Jun: 1.02170378789,
          Jul: 1.01032527803,
          Aug: 1.00612190322,
          Sep: 0.970889302046,
          Oct: 1.02844202919,
          Nov: 0.975460777612,
          Dec: 1.02635300285
        },
        {
          Jan: 1.00133960523,
          Feb: 1.0002214548,
          Mar: 1.00063105858,
          Apr: 0.998231698066,
          May: 1.00207048759,
          Jun: 0.999806376409,
          Jul: 1.00361733784,
          Aug: 0.979599359548,
          Sep: 1.03163722395,
          Oct: 0.982152151801,
          Nov: 1.00293139035,
          Dec: 1.02988259231
        },
        {
          Jan: 1.18321898786,
          Feb: 1.27467666213,
          Mar: 0.501130062451,
          Apr: 1.79512379574,
          May: 0.901893241427,
          Jun: 0.843596919008,
          Jul: 1.26761996298,
          Aug: 0.871010201066,
          Sep: 0.901465437011,
          Oct: 1.08915021601,
          Nov: 1.20565560673,
          Dec: 0.74955384817
        },
        {
          Jan: 0.945228836144,
          Feb: 1.03762833279,
          Mar: 0.95683592422,
          Apr: 1.09101905126,
          May: 0.905202634506,
          Jun: 1.06005674142,
          Jul: 1.00173446024,
          Aug: 0.96293018732,
          Sep: 1.03783816241,
          Oct: 0.981752417565,
          Nov: 0.987194378982,
          Dec: 1.02548702445
        },
        {
          Jan: 1.01163324395,
          Feb: 0.998283964606,
          Mar: 1.07068940211,
          Apr: 0.772287100246,
          May: 1.43109598152,
          Jun: 0.822307471308,
          Jul: 1.00120018318,
          Aug: 1.01488713095,
          Sep: 1.07018913699,
          Oct: 0.869209986985,
          Nov: 1.15528266314,
          Dec: 0.908749076738
        },
        {
          Jan: 0.936609569636,
          Feb: 1.10165757104,
          Mar: 0.889388487156,
          Apr: 1.08765005667,
          May: 0.962190467053,
          Jun: 1.03304905117,
          Jul: 0.96914284962,
          Aug: 1.02037363858,
          Sep: 0.981586668218,
          Oct: 1.02113460858,
          Nov: 0.956875006356,
          Dec: 1.06869737409
        },
        {
          Jan: 0.964715787098,
          Feb: 1.00342523582,
          Mar: 0.923110460633,
          Apr: 1.20137196871,
          May: 0.871048625137,
          Jun: 1.05009816844,
          Jul: 0.970070352069,
          Aug: 1.01838451662,
          Sep: 1.00746816613,
          Oct: 0.983601420834,
          Nov: 0.998488533318,
          Dec: 1.02910493916
        },
        {
          Jan: 0.916660573278,
          Feb: 1.12812343457,
          Mar: 0.938733624601,
          Apr: 0.975902496301,
          May: 1.06053563118,
          Jun: 0.954793712668,
          Jul: 1.03912780281,
          Aug: 0.973920147431,
          Sep: 0.991620649613,
          Oct: 1.02436370418,
          Nov: 0.997071509382,
          Dec: 0.984058122574
        },
        {
          Jan: 0.824274260803,
          Feb: 1.33412301097,
          Mar: 0.607937341294,
          Apr: 1.65346460822,
          May: 0.660590138665,
          Jun: 1.55866495059,
          Jul: 0.631422050583,
          Aug: 1.27656654469,
          Sep: 1.04837098089,
          Oct: 0.911211980142,
          Nov: 1.00054587228,
          Dec: 0.98467635559
        },
        {
          Jan: 0.999749265403,
          Feb: 1.00454502126,
          Mar: 1.00245983498,
          Apr: 0.965406362677,
          May: 1.06172526866,
          Jun: 0.959613010966,
          Jul: 1.01047847268,
          Aug: 1.00017193666,
          Sep: 0.999824064065,
          Oct: 0.999788791436,
          Nov: 1.00026760418,
          Dec: 1.00017505332
        },
        {
          Jan: 0.982043817797,
          Feb: 1.00090735759,
          Mar: 1.00061705738,
          Apr: 1.01592439603,
          May: 0.96881779794,
          Jun: 1.03184721808,
          Jul: 0.975305232549,
          Aug: 1.03154970828,
          Sep: 0.966320286697,
          Oct: 1.02393243436,
          Nov: 0.990241227662,
          Dec: 1.00719771241
        },
        {
          Jan: 1.01585528246,
          Feb: 0.996945689081,
          Mar: 1.01381870065,
          Apr: 0.976619406538,
          May: 1.01571055949,
          Jun: 0.997651456632,
          Jul: 0.997124548899,
          Aug: 0.999849899297,
          Sep: 1.00867075086,
          Oct: 1.059861541,
          Nov: 0.772112074582,
          Dec: 1.41726462512
        },
        {
          Jan: 0.938892087286,
          Feb: 1.07146951041,
          Mar: 0.973519601945,
          Apr: 0.975502724859,
          May: 1.03062750836,
          Jun: 0.98943318332,
          Jul: 0.996441332333,
          Aug: 1.02640379629,
          Sep: 0.948222769783,
          Oct: 1.05957706789,
          Nov: 0.956979187718,
          Dec: 1.03336485685
        }
      ]
    },
    {
      "2012": [
        {
          Jan: 0.992778967203,
          Feb: 1.01830614076,
          Mar: 0.971376509711,
          Apr: 1.02817106354,
          May: 0.974563225375,
          Jun: 1.02500726408,
          Jul: 0.987134658584,
          Aug: 1.00206152464,
          Sep: 0.995470624455,
          Oct: 1.00838617413,
          Nov: 0.990774438784,
          Dec: 1.01779985413
        },
        {
          Jan: 1.0296483748,
          Feb: 0.875311304497,
          Mar: 1.17773005491,
          Apr: 0.903642762687,
          May: 1.06199826859,
          Jun: 0.933405071406,
          Jul: 1.06065736056,
          Aug: 0.990198905877,
          Sep: 0.976899330145,
          Oct: 1.00835822058,
          Nov: 1.01641105403,
          Dec: 0.991409192772
        },
        {
          Jan: 0.910258900723,
          Feb: 1.08472386701,
          Mar: 1.02531939473,
          Apr: 0.937741663564,
          May: 1.02361458004,
          Jun: 0.999428680189,
          Jul: 0.999112782826,
          Aug: 1.0020152255,
          Sep: 0.99434027344,
          Oct: 1.00678751506,
          Nov: 1.00156045859,
          Dec: 1.00572202796
        },
        {
          Jan: 1.10099019909,
          Feb: 1.50104128878,
          Mar: 0.400016879409,
          Apr: 2.26508205633,
          May: 0.753052161759,
          Jun: 0.94237460662,
          Jul: 1.15890523671,
          Aug: 1.01239249402,
          Sep: 0.687117613327,
          Oct: 1.57803933525,
          Nov: 0.830817253068,
          Dec: 1.00181307918
        },
        {
          Jan: 1.02538179107,
          Feb: 0.936610959891,
          Mar: 1.01619111774,
          Apr: 1.03588355438,
          May: 0.996935313816,
          Jun: 0.958194366836,
          Jul: 1.04599914584,
          Aug: 0.965246868222,
          Sep: 1.0340458358,
          Oct: 0.965895313164,
          Nov: 1.02717242672,
          Dec: 0.990984224518
        },
        {
          Jan: 1.06379447586,
          Feb: 1.01760741499,
          Mar: 0.915918364456,
          Apr: 1.00256195681,
          May: 1.08232116963,
          Jun: 0.956808510634,
          Jul: 1.01238371722,
          Aug: 0.965542034158,
          Sep: 1.10152964622,
          Oct: 0.893737645707,
          Nov: 1.04822700817,
          Dec: 0.97165903343
        },
        {
          Jan: 0.960218701573,
          Feb: 1.01743475191,
          Mar: 0.967256911609,
          Apr: 1.03458217673,
          May: 1.00093203577,
          Jun: 0.958477872959,
          Jul: 1.07765306918,
          Aug: 0.934554418246,
          Sep: 1.00555191726,
          Oct: 1.06038052296,
          Nov: 0.909747784878,
          Dec: 1.10662048413
        },
        {
          Jan: 0.973232865315,
          Feb: 0.987575467302,
          Mar: 1.0620015267,
          Apr: 0.904246534685,
          May: 1.11683076742,
          Jun: 0.942299556996,
          Jul: 1.00298968556,
          Aug: 1.00576269248,
          Sep: 1.00588390978,
          Oct: 0.994388761483,
          Nov: 0.98659283168,
          Dec: 1.03607435734
        },
        {
          Jan: 1.04064576832,
          Feb: 0.90220510148,
          Mar: 1.1441951183,
          Apr: 0.922585480844,
          May: 1.00115184344,
          Jun: 1.04692254629,
          Jul: 0.972503237866,
          Aug: 1.00642680715,
          Sep: 0.948919423771,
          Oct: 1.05854683931,
          Nov: 1.01073096604,
          Dec: 0.988804507098
        },
        {
          Jan: 1.0062441142,
          Feb: 1.27680719346,
          Mar: 0.612465573554,
          Apr: 1.08248999649,
          May: 2.18264573205,
          Jun: 0.402954045236,
          Jul: 1.26816291712,
          Aug: 1.07368127171,
          Sep: 1.08064278701,
          Oct: 1.05397944627,
          Nov: 0.870830526896,
          Dec: 0.918322239778
        },
        {
          Jan: 1.00191875278,
          Feb: 0.992054040425,
          Mar: 1.00906615023,
          Apr: 0.992199001306,
          May: 1.01618016753,
          Jun: 0.985985732413,
          Jul: 0.994469245023,
          Aug: 1.01246706521,
          Sep: 0.99610713419,
          Oct: 0.999329113646,
          Nov: 1.00028752743,
          Dec: 1.00337413832
        },
        {
          Jan: 0.978089721758,
          Feb: 1.04478743223,
          Mar: 0.95003922171,
          Apr: 1.02872463553,
          May: 0.992185011369,
          Jun: 1.02809094377,
          Jul: 0.942156701831,
          Aug: 1.06516255196,
          Sep: 0.95027786899,
          Oct: 1.05421930086,
          Nov: 0.947763693303,
          Dec: 1.04482114615
        },
        {
          Jan: 0.846837020724,
          Feb: 0.991433640755,
          Mar: 1.01820751904,
          Apr: 1.00322958051,
          May: 0.997605903476,
          Jun: 1.00113616372,
          Jul: 0.999505473641,
          Aug: 1.00031474538,
          Sep: 0.999694392809,
          Oct: 1.04742767759,
          Nov: 0.83279524967,
          Dec: 1.31039747963
        },
        {
          Jan: 0.960514807924,
          Feb: 1.06445110027,
          Mar: 0.938701422984,
          Apr: 1.06436016796,
          May: 0.885603168059,
          Jun: 1.1925101719,
          Jul: 0.872837696432,
          Aug: 1.07030768201,
          Sep: 0.950512779587,
          Oct: 1.06904659101,
          Nov: 0.924420517505,
          Dec: 1.07037426403
        }
      ]
    },
    {
      "2013": [
        {
          Jan: 0.97115943806,
          Feb: 1.02564705286,
          Mar: 0.993200410385,
          Apr: 1.00406272211,
          May: 0.97776203943,
          Jun: 1.03000751878,
          Jul: 0.985927371613,
          Aug: 0.990111839703,
          Sep: 1.02699553382,
          Oct: 0.98525426233,
          Nov: 0.984322199901,
          Dec: 1.02897007771
        },
        {
          Jan: 1.01199121566,
          Feb: 0.906215114133,
          Mar: 1.18898054409,
          Apr: 0.890105466073,
          May: 1.03742548885,
          Jun: 0.976043775951,
          Jul: 1.02261006092,
          Aug: 0.978474170885,
          Sep: 1.03747987673,
          Oct: 0.96480817502,
          Nov: 1.02731751437,
          Dec: 0.94072820051
        },
        {
          Jan: 0.956006081443,
          Feb: 1.07128928731,
          Mar: 0.95890906614,
          Apr: 1.01315155671,
          May: 0.981694624761,
          Jun: 1.02241964363,
          Jul: 0.992736396789,
          Aug: 0.999668933531,
          Sep: 0.997288913484,
          Oct: 1.00352115016,
          Nov: 1.01082030132,
          Dec: 0.95062569586
        },
        {
          Jan: 0.925109962321,
          Feb: 1.59883019641,
          Mar: 0.410365148903,
          Apr: 2.05060903845,
          May: 0.851533961376,
          Jun: 0.900647086235,
          Jul: 1.05350898583,
          Aug: 1.19632303964,
          Sep: 0.644566646573,
          Oct: 1.41928048913,
          Nov: 0.952302466546,
          Dec: 0.965584100831
        },
        {
          Jan: 0.998421309539,
          Feb: 1.00633558851,
          Mar: 1.00054409156,
          Apr: 0.977456964909,
          May: 1.02288714476,
          Jun: 1.01170446002,
          Jul: 0.958302223107,
          Aug: 1.04533203968,
          Sep: 0.983860640539,
          Oct: 0.985711065868,
          Nov: 1.02025840035,
          Dec: 0.988803904609
        },
        {
          Jan: 1.0714016704,
          Feb: 0.936341910172,
          Mar: 1.03682191365,
          Apr: 0.977330038405,
          May: 0.993778247692,
          Jun: 1.07713459107,
          Jul: 0.875388752364,
          Aug: 1.1505616422,
          Sep: 0.897475651314,
          Oct: 1.05758317359,
          Nov: 0.986770527324,
          Dec: 0.973494244607
        },
        {
          Jan: 0.929632981442,
          Feb: 1.07808944295,
          Mar: 0.873340137938,
          Apr: 1.16371946586,
          May: 0.918852568193,
          Jun: 1.01928871087,
          Jul: 1.00090061564,
          Aug: 0.993778067413,
          Sep: 1.01339473312,
          Oct: 0.981575464673,
          Nov: 1.02354348939,
          Dec: 0.98252409643
        },
        {
          Jan: 0.968543543461,
          Feb: 0.988895686168,
          Mar: 1.07849282707,
          Apr: 0.891280205469,
          May: 1.07623144805,
          Jun: 1.02116482921,
          Jul: 0.949099199614,
          Aug: 1.01564038975,
          Sep: 1.00976558631,
          Oct: 0.988966207038,
          Nov: 1.00255882646,
          Dec: 1.0115736048
        },
        {
          Jan: 0.964748068533,
          Feb: 1.04191400122,
          Mar: 0.961850194986,
          Apr: 1.03590182771,
          May: 0.972474198949,
          Jun: 1.06109682117,
          Jul: 0.923618749342,
          Aug: 1.04032115465,
          Sep: 0.994507902429,
          Oct: 0.991924367548,
          Nov: 1.04370409167,
          Dec: 0.952372496539
        },
        {
          Jan: 1.01058371911,
          Feb: 1.34237009748,
          Mar: 0.739779023965,
          Apr: 0.940733165888,
          May: 1.74343076279,
          Jun: 0.482155576367,
          Jul: 1.5356936595,
          Aug: 0.858657454729,
          Sep: 1.17317806707,
          Oct: 0.865658649549,
          Nov: 1.09930810894,
          Dec: 0.952996427122
        },
        {
          Jan: 1.00412866666,
          Feb: 0.989676732447,
          Mar: 0.9531343614,
          Apr: 1.14633292116,
          May: 0.879521041004,
          Jun: 1.01776741001,
          Jul: 1.06774361295,
          Aug: 0.948234949198,
          Sep: 0.980247948458,
          Oct: 1.13796828966,
          Nov: 0.823731812334,
          Dec: 1.13876046612
        },
        {
          Jan: 0.962047847143,
          Feb: 1.04586883835,
          Mar: 0.936460724133,
          Apr: 1.06149349167,
          May: 0.999372958908,
          Jun: 0.960168127167,
          Jul: 1.01873634396,
          Aug: 1.0107214123,
          Sep: 0.984516772216,
          Oct: 1.02563710403,
          Nov: 0.969474734519,
          Dec: 1.03214175668
        },
        {
          Jan: 0.839795361281,
          Feb: 1.03949909533,
          Mar: 1.00300786622,
          Apr: 0.999458879921,
          May: 0.998701804811,
          Jun: 1.00229760379,
          Jul: 0.998786476381,
          Aug: 0.999120008724,
          Sep: 1.00189610547,
          Oct: 1.04462617155,
          Nov: 0.835705466005,
          Dec: 1.30991126239
        },
        {
          Jan: 0.948217319817,
          Feb: 1.04887977505,
          Mar: 0.975423163922,
          Apr: 0.992451679713,
          May: 1.01132842658,
          Jun: 1.00206664574,
          Jul: 0.995253708972,
          Aug: 0.998749838648,
          Sep: 1.01679251681,
          Oct: 0.961337377695,
          Nov: 1.04631256498,
          Dec: 0.971390672271
        }
      ]
    },
    {
      "2014": [
        {
          Jan: 0.978864649467,
          Feb: 1.01638279843,
          Mar: 0.985929861439,
          Apr: 1.0085654909,
          May: 0.997127883295,
          Jun: 0.995862468094,
          Jul: 1.01203662573,
          Aug: 0.991142670367,
          Sep: 0.996597687722,
          Oct: 1.01132642283,
          Nov: 0.988519041854,
          Dec: 1.00779881399
        },
        {
          Jan: 1.1364683219,
          Feb: 0.837517977019,
          Mar: 1.19188397901,
          Apr: 0.893348621197,
          May: 1.04218660844,
          Jun: 0.996628559511,
          Jul: 0.983041036921,
          Aug: 1.01621653752,
          Sep: 1.01135741909,
          Oct: 0.965286891326,
          Nov: 1.03418900318,
          Dec: 0.987851844903
        },
        {
          Jan: 1.08019942557,
          Feb: 0.949576572042,
          Mar: 1.01436751891,
          Apr: 0.996637887503,
          May: 1.01097767331,
          Jun: 0.973001145978,
          Jul: 1.03337849713,
          Aug: 0.983792125814,
          Sep: 1.00222522149,
          Oct: 1.01379043157,
          Nov: 0.969277816377,
          Dec: 0.983448876416
        },
        {
          Jan: 0.901523443827,
          Feb: 1.5509132102,
          Mar: 0.461852549292,
          Apr: 1.86579147284,
          May: 0.845372115028,
          Jun: 0.943849225129,
          Jul: 1.02618214613,
          Aug: 1.24438978962,
          Sep: 0.579009933611,
          Oct: 1.6164288566,
          Nov: 0.950246671781,
          Dec: 0.82200271636
        },
        {
          Jan: 1.00003642797,
          Feb: 1.01772206615,
          Mar: 0.967538830827,
          Apr: 1.02735313404,
          May: 1.00142425265,
          Jun: 0.980109724948,
          Jul: 1.00750896684,
          Aug: 1.02060044259,
          Sep: 0.969132753485,
          Oct: 1.00328444809,
          Nov: 1.03338869708,
          Dec: 0.96877698396
        },
        {
          Jan: 1.09045352037,
          Feb: 0.925402081977,
          Mar: 0.982341336273,
          Apr: 1.05805245908,
          May: 0.979720714962,
          Jun: 0.996110635207,
          Jul: 1.00713723052,
          Aug: 0.999949175554,
          Sep: 0.99678085405,
          Oct: 0.985378857661,
          Nov: 1.03323412182,
          Dec: 0.971002097601
        },
        {
          Jan: 0.980834596428,
          Feb: 1.08581653294,
          Mar: 0.891472232386,
          Apr: 1.07874042712,
          May: 0.993845868659,
          Jun: 0.968804744951,
          Jul: 1.03031810939,
          Aug: 0.995351093012,
          Sep: 0.968645915332,
          Oct: 1.05021949838,
          Nov: 0.967175200415,
          Dec: 1.00995149389
        },
        {
          Jan: 0.981658111245,
          Feb: 1.00799509725,
          Mar: 1.04101976746,
          Apr: 0.879369648471,
          May: 1.16639656621,
          Jun: 0.937213132543,
          Jul: 0.979642284037,
          Aug: 1.05130135225,
          Sep: 0.952586381667,
          Oct: 1.01789448232,
          Nov: 1.01701283585,
          Dec: 0.946208062986
        },
        {
          Jan: 1.00018719996,
          Feb: 1.03516189279,
          Mar: 0.972447949876,
          Apr: 1.00299260686,
          May: 1.01619240055,
          Jun: 0.985279154369,
          Jul: 1.0099728297,
          Aug: 0.97900325154,
          Sep: 1.03192491838,
          Oct: 0.982522396456,
          Nov: 0.991896459576,
          Dec: 1.02336027194
        },
        {
          Jan: 0.789011817931,
          Feb: 1.82606659853,
          Mar: 0.497086834572,
          Apr: 1.56385754008,
          May: 0.817794441204,
          Jun: 1.63673032989,
          Jul: 0.390975959428,
          Aug: 1.95289993462,
          Sep: 0.976084012977,
          Oct: 0.880775317327,
          Nov: 1.05828261682,
          Dec: 0.863416948329
        },
        {
          Jan: 0.972457885088,
          Feb: 0.989392307733,
          Mar: 1.00663861364,
          Apr: 1.00332146114,
          May: 0.992028722227,
          Jun: 1.00773881505,
          Jul: 0.988309341982,
          Aug: 1.03153677513,
          Sep: 0.946712910153,
          Oct: 1.06121486639,
          Nov: 0.947885514678,
          Dec: 1.05083834869
        },
        {
          Jan: 0.95006009902,
          Feb: 1.07812751494,
          Mar: 0.920294471603,
          Apr: 1.05517997104,
          May: 1.01040088345,
          Jun: 0.936611630755,
          Jul: 1.08152439868,
          Aug: 0.948267298007,
          Sep: 1.01092999928,
          Oct: 1.03354990581,
          Nov: 0.96018541716,
          Dec: 1.01228680695
        },
        {
          Jan: 0.835376707933,
          Feb: 1.04448461294,
          Mar: 1.00263293088,
          Apr: 0.998557943549,
          May: 0.998942548312,
          Jun: 1.00226946804,
          Jul: 0.998665936619,
          Aug: 0.999675260572,
          Sep: 1.00105420437,
          Oct: 1.04882193338,
          Nov: 0.825236477628,
          Dec: 1.33021904131
        },
        {
          Jan: 1.03319579252,
          Feb: 0.919639603679,
          Mar: 1.12933518937,
          Apr: 0.906151721745,
          May: 1.07967140116,
          Jun: 0.916286970866,
          Jul: 1.07951098517,
          Aug: 0.976922431346,
          Sep: 0.968730467811,
          Oct: 1.06392085427,
          Nov: 0.925044420915,
          Dec: 1.08159227174
        }
      ]
    },
    {
      "2015": [
        {
          Jan: 0.999135667243,
          Feb: 0.989101304118,
          Mar: 1.02548218759,
          Apr: 0.973805650947,
          May: 1.0099255153,
          Jun: 1.0024660376,
          Jul: 0.997988584312,
          Aug: 1.00602075389,
          Sep: 0.985794584632,
          Oct: 1.02080705996,
          Nov: 0.969073742131,
          Dec: 1.03771427732
        },
        {
          Jan: 1.018783656,
          Feb: 0.925047431243,
          Mar: 1.12388987974,
          Apr: 0.919609860252,
          May: 1.03259395599,
          Jun: 0.997053810509,
          Jul: 0.985737607011,
          Aug: 1.02248926827,
          Sep: 0.986342415105,
          Oct: 0.99106012938,
          Nov: 1.03150501467,
          Dec: 0.963866026634
        },
        {
          Jan: 1.10253424127,
          Feb: 0.912771747894,
          Mar: 1.0305507927,
          Apr: 0.997268307648,
          May: 0.999253520648,
          Jun: 1.00238077392,
          Jul: 0.998826822765,
          Aug: 0.999144294721,
          Sep: 1.00177242742,
          Oct: 1.01561782078,
          Nov: 0.963224773433,
          Dec: 0.983133073164
        },
        {
          Jan: 1.04082099964,
          Feb: 1.55969817523,
          Mar: 0.421054206695,
          Apr: 2.05378730515,
          May: 0.789730939927,
          Jun: 0.969797560888,
          Jul: 0.99236005496,
          Aug: 1.33306828966,
          Sep: 0.567998735053,
          Oct: 1.49808834368,
          Nov: 1.02206566908,
          Dec: 0.82022799944
        },
        {
          Jan: 1.01565288144,
          Feb: 0.978090049976,
          Mar: 1.02941399469,
          Apr: 0.988483579058,
          May: 0.995104331425,
          Jun: 1.00768839329,
          Jul: 0.992418976875,
          Aug: 1.00185761637,
          Sep: 1.00726657895,
          Oct: 0.98234895598,
          Nov: 1.02860200265,
          Dec: 0.97863321721
        },
        {
          Jan: 1.03453365556,
          Feb: 0.945124847159,
          Mar: 1.05012473332,
          Apr: 0.981379591532,
          May: 1.01457124412,
          Jun: 0.956872642413,
          Jul: 1.10895969535,
          Aug: 0.86960636822,
          Sep: 1.10349685979,
          Oct: 0.953182194371,
          Nov: 1.06719344644,
          Dec: 0.91554927398
        },
        {
          Jan: 0.995322922679,
          Feb: 1.05847091099,
          Mar: 0.873645728107,
          Apr: 1.11909669148,
          May: 1.00431165142,
          Jun: 0.925255749286,
          Jul: 1.06337000569,
          Aug: 0.990660277743,
          Sep: 0.984939082794,
          Oct: 1.00088436446,
          Nov: 1.01468170461,
          Dec: 0.988821215446
        },
        {
          Jan: 1.07154656038,
          Feb: 1.00083898902,
          Mar: 0.925687710335,
          Apr: 1.06434277635,
          May: 0.989210621746,
          Jun: 0.99570191242,
          Jul: 1.0001230551,
          Aug: 0.99645060362,
          Sep: 1.00737393203,
          Oct: 0.990614207876,
          Nov: 1.02240805064,
          Dec: 0.95349165596
        },
        {
          Jan: 0.970210751651,
          Feb: 1.08313697238,
          Mar: 0.880890926874,
          Apr: 1.04726627756,
          May: 1.06601989538,
          Jun: 0.929720227469,
          Jul: 1.05119229107,
          Aug: 0.971286398592,
          Sep: 0.983111944331,
          Oct: 1.07830311614,
          Nov: 0.905328635161,
          Dec: 1.07192684445
        },
        {
          Jan: 1.0217900522,
          Feb: 1.36386528278,
          Mar: 0.674810260564,
          Apr: 0.990510485877,
          May: 1.91130956497,
          Jun: 0.458221121549,
          Jul: 1.1897701308,
          Aug: 1.45746090798,
          Sep: 0.629026125067,
          Oct: 1.69724159869,
          Nov: 0.583504521704,
          Dec: 1.43375903609
        },
        {
          Jan: 0.969160781365,
          Feb: 0.999619542826,
          Mar: 1.0185375492,
          Apr: 0.988348544599,
          May: 1.00639635238,
          Jun: 0.968655942453,
          Jul: 1.06186110187,
          Aug: 0.952958499396,
          Sep: 1.01523949172,
          Oct: 1.00627368303,
          Nov: 0.987259617093,
          Dec: 1.0101764999
        },
        {
          Jan: 0.990905114991,
          Feb: 1.05630215027,
          Mar: 0.888059354347,
          Apr: 1.14659120316,
          May: 0.916172615765,
          Jun: 1.02952640195,
          Jul: 1.00016552077,
          Aug: 0.990768328839,
          Sep: 0.989073238927,
          Oct: 1.0554013239,
          Nov: 0.947612518554,
          Dec: 1.02938720679
        },
        {
          Jan: 0.830521190512,
          Feb: 1.04252195671,
          Mar: 1.0039945835,
          Apr: 0.998534511979,
          May: 0.9989831492,
          Jun: 1.00220628026,
          Jul: 0.998955153956,
          Aug: 0.998681617423,
          Sep: 1.00253216128,
          Oct: 1.03524570308,
          Nov: 0.866718684677,
          Dec: 1.23442047119
        },
        {
          Jan: 0.992386795436,
          Feb: 0.847886205453,
          Mar: 1.31684258336,
          Apr: 0.836445616989,
          May: 1.03557287545,
          Jun: 0.99596648215,
          Jul: 1.02665621405,
          Aug: 0.982703141622,
          Sep: 0.984413779562,
          Oct: 1.02351037015,
          Nov: 0.990297379179,
          Dec: 1.01518296252
        }
      ]
    },
    {
      "2016": [
        {
          Jan: 0.97527298241,
          Feb: 1.00361866496,
          Mar: 1.02116444167,
          Apr: 0.962430043043,
          May: 1.03424610501,
          Jun: 0.981913869338,
          Jul: 1.00751815564,
          Aug: 1.00372824249,
          Sep: 0.98463714819,
          Oct: 1.01852428107,
          Nov: 0.988213238474,
          Dec: 1.00463847089
        },
        {
          Jan: 1.05487495366,
          Feb: 0.904123435041,
          Mar: 1.11990099344,
          Apr: 0.950900704275,
          May: 0.978757569436,
          Jun: 1.05163450122,
          Jul: 0.948030723757,
          Aug: 1.04853484275,
          Sep: 0.968732842162,
          Oct: 1.01100915677,
          Nov: 1.00609148574,
          Dec: 0.981354926431
        },
        {
          Jan: 1.11468038665,
          Feb: 0.907899952493,
          Mar: 1.02204563737,
          Apr: 1.01929172672,
          May: 0.952344060805,
          Jun: 1.07286341753,
          Jul: 0.940269424705,
          Aug: 1.04146558874,
          Sep: 0.979385125056,
          Oct: 1.02767304259,
          Nov: 0.941493432554,
          Dec: 1.0291565301
        },
        {
          Jan: 1.03071834756,
          Feb: 1.52755089566,
          Mar: 0.435553424401,
          Apr: 1.93792777743,
          May: 0.866485869929,
          Jun: 0.864283955301,
          Jul: 1.16746990068,
          Aug: 1.08045464121,
          Sep: 0.668503183847,
          Oct: 1.43525285617,
          Nov: 1.00093721451,
          Dec: 0.817307109744
        },
        {
          Jan: 1.01313269426,
          Feb: 0.976582106564,
          Mar: 1.02086024781,
          Apr: 1.01199283463,
          May: 0.962421324287,
          Jun: 1.04264266092,
          Jul: 0.968541492449,
          Aug: 1.01447873691,
          Sep: 1.01074893662,
          Oct: 0.960126125885,
          Nov: 1.04610558297,
          Dec: 0.993798138939
        },
        {
          Jan: 1.04740184865,
          Feb: 1.01088152131,
          Mar: 0.970627374441,
          Apr: 1.0226145573,
          May: 1.00013198576,
          Jun: 0.981176351546,
          Jul: 1.01094705626,
          Aug: 1.01769179702,
          Sep: 0.959117872334,
          Oct: 1.04945068176,
          Nov: 0.950602096748,
          Dec: 1.05574438481
        },
        {
          Jan: 0.979515786722,
          Feb: 1.09445028833,
          Mar: 0.871168224983,
          Apr: 1.10093962645,
          May: 0.981156564553,
          Jun: 0.990018872851,
          Jul: 0.994333591869,
          Aug: 1.01656992556,
          Sep: 1.01822596101,
          Oct: 0.934919999205,
          Nov: 1.06771592532,
          Dec: 0.981420708855
        },
        {
          Jan: 1.05458016302,
          Feb: 0.996727641862,
          Mar: 0.942473653395,
          Apr: 1.05627610329,
          May: 1.02482968136,
          Jun: 0.890664149862,
          Jul: 1.15896521658,
          Aug: 0.88978194488,
          Sep: 1.0862228272,
          Oct: 0.943720858601,
          Nov: 1.0425009391,
          Dec: 0.938442417148
        },
        {
          Jan: 0.953890994193,
          Feb: 1.06006204464,
          Mar: 0.965210786981,
          Apr: 0.985565074271,
          May: 0.999076977333,
          Jun: 1.05675940965,
          Jul: 0.924619707149,
          Aug: 1.08498630299,
          Sep: 0.95415477389,
          Oct: 0.97972965017,
          Nov: 1.06439297311,
          Dec: 0.936534347558
        },
        {
          Jan: 0.713355425247,
          Feb: 1.58632517864,
          Mar: 0.594958794255,
          Apr: 1.45103673242,
          May: 1.03020166199,
          Jun: 0.785749484627,
          Jul: 0.952366973684,
          Aug: 1.21085848963,
          Sep: 1.11188722993,
          Oct: 0.941006331633,
          Nov: 0.788622258708,
          Dec: 1.12094065172
        },
        {
          Jan: 0.99854156721,
          Feb: 0.980847553394,
          Mar: 1.04899711028,
          Apr: 0.948302881649,
          May: 1.03361962241,
          Jun: 0.981255637175,
          Jul: 1.01190644697,
          Aug: 0.984220049522,
          Sep: 1.05696487689,
          Oct: 0.912185643614,
          Nov: 1.0714694113,
          Dec: 0.979120024893
        },
        {
          Jan: 0.950582287131,
          Feb: 1.09745470754,
          Mar: 0.903111826832,
          Apr: 1.05429221447,
          May: 1.01843294773,
          Jun: 0.960059961515,
          Jul: 1.00233999437,
          Aug: 1.03795538319,
          Sep: 0.952184009968,
          Oct: 1.08091067712,
          Nov: 0.917108462297,
          Dec: 1.04730599726
        },
        {
          Jan: 0.87463332487,
          Feb: 1.02805538868,
          Mar: 1.00379847502,
          Apr: 0.999111939569,
          May: 0.998702575586,
          Jun: 1.00242527326,
          Jul: 0.998714444607,
          Aug: 0.999098653467,
          Sep: 1.00195927463,
          Oct: 1.0127655581,
          Nov: 0.948855942728,
          Dec: 1.0740122103
        },
        {
          Jan: 0.979142444826,
          Feb: 1.00174240179,
          Mar: 1.00129097832,
          Apr: 1.04092792744,
          May: 0.934305791455,
          Jun: 1.02956760854,
          Jul: 1.00073249875,
          Aug: 1.08450733433,
          Sep: 0.845191861795,
          Oct: 1.12108181162,
          Nov: 0.979280398519,
          Dec: 1.01707289979
        }
      ]
    },
    {
      "2017": [
        {
          Jan: 1.002516197,
          Feb: 0.994717694,
          Mar: 1.002591672,
          Apr: 0.998833398,
          May: 1.003574107,
          Jun: 0.99704037,
          Jul: 1.002495552,
          Aug: 1.002386626,
          Sep: 0.995666937,
          Oct: 1.002872263,
          Nov: 0.998230732,
          Dec: 0.997250818
        },
        {
          Jan: 1.009986398,
          Feb: 0.996407316,
          Mar: 0.998585272,
          Apr: 1.001910795,
          May: 1.008030492,
          Jun: 1.002539172,
          Jul: 1.004662713,
          Aug: 0.996273628,
          Sep: 1.00179676,
          Oct: 1.000662597,
          Nov: 0.990004203,
          Dec: 0.995657296
        },
        {
          Jan: 1.000034963,
          Feb: 1.000641358,
          Mar: 1.000607736,
          Apr: 1.005077481,
          May: 1.003500094,
          Jun: 1.003573303,
          Jul: 1.001840049,
          Aug: 1.000521693,
          Sep: 0.999518158,
          Oct: 1.020727649,
          Nov: 1.023143658,
          Dec: 1.001432256
        },
        {
          Jan: 0.910373945,
          Feb: 1.063033512,
          Mar: 1.018893992,
          Apr: 0.993537526,
          May: 0.999660956,
          Jun: 0.972216248,
          Jul: 0.932814594,
          Aug: 1.06113683,
          Sep: 1.030971241,
          Oct: 0.988230563,
          Nov: 1.019876552,
          Dec: 0.981016292
        },
        {
          Jan: 1.000146989,
          Feb: 1.009992859,
          Mar: 0.999092676,
          Apr: 1.004522196,
          May: 1.000949432,
          Jun: 1.013284097,
          Jul: 1.003127239,
          Aug: 1.006473134,
          Sep: 1.010578315,
          Oct: 1.004824612,
          Nov: 0.999984447,
          Dec: 1.005680497
        },
        {
          Jan: 0.996892,
          Feb: 1.000683,
          Mar: 1.000772,
          Apr: 0.99713,
          May: 1.001,
          Jun: 1.001154,
          Jul: 1.001454,
          Aug: 1.001649,
          Sep: 0.998198,
          Oct: 1.002346,
          Nov: 0.987096,
          Dec: 1.002697
        },
        {
          Jan: 0.989649673,
          Feb: 1.007258532,
          Mar: 1.000590575,
          Apr: 0.997015731,
          May: 0.997498638,
          June: 0.997798682,
          Jul: 0.991170196,
          Aug: 1.004124448,
          Sep: 1.000934629,
          Oct: 1.005397517,
          Nov: 1.009019376,
          Dec: 0.998893132
        },
        {
          Jan: 1.001494757,
          Feb: 1.016487619,
          Mar: 1.002380677,
          Apr: 1.006825641,
          May: 1.011778826,
          June: 1.000208172,
          Jul: 0.999457233,
          Aug: 0.992988159,
          Sep: 0.999281409,
          Oct: 0.998630836,
          Nov: 0.996733408,
          Dec: 0.999084432
        },
        {
          Jan: 1.007313488,
          Feb: 1.002733713,
          Mar: 1.001367482,
          Apr: 1.003449918,
          May: 0.989008068,
          June: 0.996667116,
          Jul: 0.98683035,
          Aug: 1.012954578,
          Sep: 0.993328843,
          Oct: 0.997468899,
          Nov: 1.004633262,
          Dec: 0.998110345
        },
        {
          Jan: 0.969647729,
          Feb: 1.036217259,
          Mar: 1.108889572,
          Apr: 1.106603203,
          May: 0.848976866,
          June: 1.044878929,
          Jul: 1.165578912,
          Aug: 0.962731454,
          Sep: 0.846285944,
          Oct: 0.945423279,
          Nov: 0.991968565,
          Dec: 1.058369581
        },
        {
          Jan: 1.003838626,
          Feb: 1.000150863,
          Mar: 0.99943995,
          Apr: 1.003500213,
          May: 1.014481934,
          June: 1.000494459,
          Jul: 0.999116142,
          Aug: 1.001021494,
          Sep: 0.977095862,
          Oct: 1.005390571,
          Nov: 0.998603296,
          Dec: 0.998216518
        },
        {
          Jan: 0.990368309,
          Feb: 1.008164744,
          Mar: 1.015472696,
          Apr: 1.007878453,
          May: 1.016491798,
          June: 1.011395274,
          Jul: 1.011239657,
          Aug: 1.004839492,
          Sep: 0.983920636,
          Oct: 0.983362931,
          Nov: 0.978009639,
          Dec: 0.996668131
        },
        {
          Jan: 1.000058071,
          Feb: 1.000005272,
          Mar: 1,
          Apr: 1.000359642,
          May: 1,
          June: 1,
          Jul: 1.000223362,
          Aug: 1,
          Sep: 1,
          Oct: 1.013902229,
          Nov: 1.001001982,
          Dec: 1
        },
        {
          Jan: 0.999398101,
          Feb: 1.000843633,
          Mar: 1.001165084,
          Apr: 0.997885836,
          May: 0.996226478,
          June: 0.998400488,
          Jul: 0.992474943,
          Aug: 1.001850724,
          Sep: 0.998143195,
          Oct: 1.001601577,
          Nov: 0.995336614,
          Dec: 0.998366473
        }
      ]
    }
  ];

  jsonData = mattsJSON["10"]["2017"];

  /***************************************************************************/
  /*                      Functions                                          */
  /***************************************************************************/

  function populateSelectYears(obj) {
    for (let i = 1; i < 11; i++) {
      $("#yearSelect").append(
        "<option value=" +
          i +
          ">" +
          Object.keys(obj[i]).toString() +
          "</option>"
      );
    }
  }
  populateSelectYears(mattsJSON);

  function getYear() {
    let val = $("#yearSelect").val();
    let str = $("#yearSelect option:selected").text();
    var newData = mattsJSON[val][str];
    console.log(newData);
    //calculatePersonal(newData);
  }

  $("#yearSelect").on("change", getYear);

  function displayErr(string) {
    $(".counter-feedback").text(string);
    $(".counter-feedback").css("opacity", "1");
    setTimeout(function() {
      $(".counter-feedback").text("");
      $(".counter-feedback").css("opacity", "0");
    }, 5000);
  }

  // Overlays

  function addOverlay(ids) {
    $(ids).addClass("overlay");
    $(ids)
      .prev()
      .addClass("overlay");
  }

  function removeOverlay(ids) {
    $(ids).removeClass("overlay");
    $(ids)
      .prev()
      .removeClass("overlay");
  }

  // Default Overlays

  addOverlay("#cartItem6, #cartItem3");

  // Calculate CPI Start

  function calculateIndex(arr) {
    return arr.reduce(getSum) / coinsInUse * 100;
  }

  // Calculate Sum

  function getSum(total, num) {
    return total + num;
  }

  //

  function displayCoins() {
    let wallet = document.querySelector(".cart-theme-remaining");

    for (let i = 1; i <= 44; i++) {
      wallet.insertAdjacentHTML("afterbegin", coinHTML);
    }
  }
  displayCoins();

  function updateCoins(string) {
    // get number of coins remaining
    // all coins below number remaining - turn grey
    // all coins above number remaining - turn gold

    let unit = $(".cart-theme-remaining .unit");

    let remaining = parseInt(44 - coinsRemaining);

    for (let i = 0; i < remaining; i++) {
      unit[i].style.backgroundColor = "#919191";
    }

    for (let i = 44 - coinsRemaining; i < 44; i++) {
      unit[i].style.backgroundColor = "gold";
    }

    if (string === "plus") {
      for (let i = 0; i < 44 - parseInt(coinsRemaining); i++) {
        unit[i].style.backgroundColor = "#919191";
      }
    } else if (string === "minus") {
      unit[44 - coinsRemaining].style.backgroundColor = "gold";
    } else {
    }
  }

  updateCoins();

  function calculatePersonal(data) {
    personalCPI = [];
    let currMonth = [];
    let nextMonth = [];
    let firstMonth = [];
    for (let i = 0; i < data.length; i++) {
      nextMonth = [];
      currMonth = [];
      let currentMonth = months[i];
      if (i === 0) {
        for (let i = 0; i < data.length; i++) {
          console.log(`${data[i][currentMonth]} * ${coinWeights[i]}`);
          firstMonth.push(data[i][currentMonth] * coinWeights[i]);
        }
        personalCPI.push(calculateIndex(firstMonth).toFixed(4));
        console.log(firstMonth);
        continue;
      } else {
        for (let i = 0; i < data.length; i++) {
          currMonth.push(data[i][currentMonth]);
          nextMonth.push(currMonth[i] * firstMonth[i]);
        }
        firstMonth = nextMonth;
        personalCPI.push(calculateIndex(nextMonth).toFixed(4));
        if (i === 11) {
          break;
        }
      }
    }

    personalCPI = personalCPI.map(Number);
    console.log(coinWeights);
    console.log(personalCPI);

    // calculatePercentage(newData);

    renderHighchart(
      personalCPI,
      nationalCPI,
      "Personal Inflation",
      "National Inflation"
    );
  }
  // Move this into getYears() after you get data from Matt
  calculatePersonal(jsonData);

  // Calculate CPI End

  // Calculate CPI Percentage

  function calculatePercentage(arr1) {
    percentageChangePersonal = [];
    let firstIndex;
    let secondIndex;
    for (let i = 0; i < arr1.length - 1; i++) {
      firstIndex = arr1[i];
      secondIndex = arr1[i + 1];
      percentageChangePersonal.push(secondIndex / firstIndex);
    }

    let index,
      avg,
      above = 0,
      below = 0;

    for (let i = 0; i < personalCPI.length; i++) {
      index = personalCPI[i] / nationalCPI[i];

      if (index > 1) {
        above += 1;
      } else if (index < 1) {
        below += 1;
      }
    }

    if (above > below) {
      above = true;
      below = false;
    } else if ((above >= 5 && above < 7) || (below >= 5 && below < 7)) {
      avg = true;
      above = false;
      below = false;
    } else {
      below = true;
      above = false;
    }

    if (avg) {
      $(".output-text").html(
        "Inflation is affecting you close to the National Average \
           <i class='fas fa-arrows-alt-h fa-2x'></i>"
      );
      $(".output-text").css("border", "2px solid blue");
      $(".fa-arrow-up").css("color", "blue");
    } else if (below) {
      $(".output-text").html(
        "Inflation is affecting you below the National Average \
           <i class='fas fa-arrow-down fa-2x'></i>"
      );
      $(".output-text").css("border", "2px solid green");
      $(".fa-arrow-down").css("color", "green");
    } else if (above) {
      $(".output-text").html(
        "Inflation is affecting you above the National Average \
           <i class='fas fa-arrow-up fa-2x'></i>"
      );
      $(".output-text").css("border", "2px solid red");
      $(".fa-arrow-up").css("color", "red");
    }
  }

  // Calculate Pie Chart Data

  function calculatePieChart(numbers, index) {
    let num;
    for (let i = index; i < index + 1; i++) {
      num = (numbers[index] / numbers.length * 100).toFixed(2);
      if (num == 0.0) {
        return null;
      } else {
        return parseInt(num);
      }
    }
  }

  function calcDifferenceMinus(index) {
    let currCoins = coinsInUse;
    coinWeights[index] -= 1;
    coinsInUse -= 1;
    if (coinWeights[index] <= 0) {
      btn.css("pointer-events", "none");
    }
  }

  function calcDifferencePlus(index) {
    if (coinsInUse < 44) {
      coinWeights[index] += 1;
      coinsInUse += 1;
    }
  }

  $(".minus").bind("click touchstart", function(e) {
    $(".plus").css("pointer-events", "initial");
    var btn = $(this);

    e.stopImmediatePropagation();
    e.preventDefault();
    let id = this.parentElement.id;
    let counter = this.parentElement.firstElementChild;
    let counterNum = counter.innerHTML;
    this.nextElementSibling.style.pointerEvents = "auto";
    let lastChild = this.parentElement.lastChild.classList;
    let unit = this.parentElement.lastChild;
    if (lastChild == "unit") {
      unit.remove();
      counter.innerHTML--;
      counterTotal.innerHTML++;
      coinsRemaining++;
      updateCoins("minus");
    } else {
      let counterNum = parseInt(counter);
      if (counterNum <= 0) {
        displayErr("Container Empty");
      }
    }

    switch (id) {
      case "cartItem1":
        calcDifferenceMinus(0);
        break;
      case "cartItem2":
        calcDifferenceMinus(1);
        break;
      case "cartItem3":
        calcDifferenceMinus(2);
        break;
      case "cartItem4":
        calcDifferenceMinus(3);
        break;
      case "cartItem5":
        calcDifferenceMinus(4);
        break;
      case "cartItem6":
        calcDifferenceMinus(5);
        break;
      case "cartItem6":
        calcDifferenceMinus(6);
        break;
      case "cartItem8":
        calcDifferenceMinus(7);
        break;
      case "cartItem9":
        // Do Nothing - Category Removed
        break;
      case "cartItem10":
        calcDifferenceMinus(8);
        break;
      case "cartItem11":
        calcDifferenceMinus(9);
        break;
      case "cartItem12":
        calcDifferenceMinus(10);
        break;
      case "cartItem13":
        calcDifferenceMinus(11);
        break;
      case "cartItem14":
        calcDifferenceMinus(12);
        break;
      case "cartItem15":
        // Do Nothing - Category Removed
        break;
      case "cartItem16":
        calcDifferenceMinus(13);
        break;
    }

    calculatePersonal(jsonData);
  });

  $(".plus").bind("click touchstart", function(e) {
    var btn = $(this);
    btn.prev().css("pointer-events", "initial");
    e.stopImmediatePropagation();
    e.preventDefault();
    let id = this.parentElement.id;
    let counter = this.parentElement.firstElementChild;
    let counterNum = counter.innerHTML;
    if (coinsRemaining > 0) {
      let counter = this.parentElement.firstElementChild;
      this.parentElement.insertAdjacentHTML("beforeend", coinHTML);
      counter.innerHTML++;
      let counterNum = parseInt(counter.innerHTML);
      if (counterNum === 6) {
        displayErr("Container Full");
        this.style.pointerEvents = "none";
      }
      counterTotal.innerHTML--;
      coinsRemaining--;
      updateCoins("plus");
    } else {
      displayErr("Not Enough Coins");
    }

    switch (id) {
      case "cartItem1":
        calcDifferencePlus(0);
        break;
      case "cartItem2":
        calcDifferencePlus(1);
        break;
      case "cartItem3":
        calcDifferencePlus(2);
        break;
      case "cartItem4":
        calcDifferencePlus(3);
        break;
      case "cartItem5":
        calcDifferencePlus(4);
        break;
      case "cartItem6":
        calcDifferencePlus(5);
        break;
      case "cartItem6":
        calcDifferencePlus(6);
        break;
      case "cartItem8":
        calcDifferencePlus(7);
        break;
      case "cartItem9":
        // Do Nothing - Category Removed
        break;
      case "cartItem10":
        calcDifferencePlus(8);
        break;
      case "cartItem11":
        calcDifferencePlus(9);
        break;
      case "cartItem12":
        calcDifferencePlus(10);
        break;
      case "cartItem13":
        calcDifferencePlus(11);
        break;
      case "cartItem14":
        calcDifferencePlus(12);
        break;
      case "cartItem15":
        // Do Nothing - Category Removed
        break;
      case "cartItem16":
        calcDifferencePlus(13);
        break;
    }

    if (
      counterTotal.innerHTML === "2" &&
      document.getElementById("OwnerOccupiedHome").checked
    ) {
      $(".plus").css("pointer-events", "none");
      displayErr("2 Coins Needed for Rent/Mortage");
    }
    calculatePersonal(jsonData);
    calculatePercentage(personalCPI);
  });

  // Check toggle states & update coin weights on initial quesitons
  $("input[type='radio']").change(updateWeights);

  function updateWeights() {
    let currWeight = 0;

    switch (this.value) {
      case "Mortgaged Owner Occupied Home":
        addOverlay("#cartItem5");
        removeOverlay("#cartItem6, #cartItem7");
        currWeight = coinWeights[4];
        coinWeights[4] = 0;
        coinsInUse -= currWeight;
        currWeight = coinWeights[5];
        coinWeights[5] = 2;
        coinsInUse -= currWeight - 2;
        rePopulate("#cartItem6", 2);
        break;

      case "Owner Occupied Home (No Mortgage)":
        addOverlay("#cartItem5, #cartItem6");
        removeOverlay("#cartItem7");
        currWeight = coinWeights[4];
        coinWeights[4] = 0;
        coinsInUse -= currWeight;
        currWeight = coinWeights[5];
        coinWeights[5] = 0;
        coinsInUse -= currWeight;
        $("#cartItem5 .unit, #cartItem6 .unit").remove();
        break;

      case "Rental Accommodation":
        addOverlay("#cartItem6");
        removeOverlay("#cartItem5, #cartItem7");
        currWeight = coinWeights[4];
        coinWeights[4] = 2;
        coinsInUse -= currWeight - 2;
        rePopulate("#cartItem5", 2);
        currWeight = coinWeights[5];
        coinWeights[5] = 0;
        coinsInUse -= currWeight;
        break;

      case "Car-Yes":
        removeOverlay("#cartItem10");
        currWeight = coinWeights[8];
        coinWeights[8] = 6;
        coinsInUse -= currWeight - 6;
        rePopulate("#cartItem10", 6);
        break;

      case "Car-No":
        addOverlay("#cartItem10");
        currWeight = coinWeights[8];
        coinWeights[8] = 0;
        coinsInUse -= currWeight;
        break;

      case "Smoker-Yes":
        removeOverlay("#cartItem3");
        currWeight = coinWeights[2];
        coinWeights[2] = 1;
        coinsInUse -= currWeight - 1;
        rePopulate("#cartItem3", 1);
        break;

      case "Smoker-No":
        addOverlay("#cartItem3");
        currWeight = coinWeights[2];
        coinWeights[2] = 0;
        coinsInUse -= currWeight;
        break;

      case "Drinker-Yes":
        removeOverlay("#cartItem2");
        currWeight = coinWeights[1];
        coinWeights[1] = 4;
        coinsInUse -= currWeight - 4;
        rePopulate("#cartItem2", 4);
        break;

      case "Drinker-No":
        addOverlay("#cartItem2");
        currWeight = coinWeights[1];
        coinWeights[1] = 0;
        coinsInUse -= currWeight;
        break;
    }

    calculatePersonal(jsonData);
    calculatePercentage(personalCPI);
  }

  function rePopulate(selector, num) {
    let unit = document.querySelector(".unit");
    let location = document.querySelector(selector);
    let nodelist = location.querySelectorAll(".unit").length;

    if (nodelist === 0) {
      for (let i = 1; i <= num; i++) {
        location.insertAdjacentHTML("beforeend", coinHTML);
      }
    }
    if (selector === "#cartItem6") {
      $("#cartItem5 .unit").remove();
    } else if (selector === "#cartItem5") {
      $("#cartItem6 .unit").remove();
    }
  }

  function populate() {
    let total = 0;
    for (let i = 0; i < containers.length; i++) {
      let item = containers[i];
      let span = item.firstElementChild;
      let num = coinWeights[i];
      for (let i = 1; i <= num; i++) {
        item.insertAdjacentHTML("beforeend", coinHTML);
      }

      span.innerHTML = num;
      total += num;
      newArr.push(num);
    }
  }

  populate();

  // Get previous selection

  var prev;
  var id;

  $("label").on("mousedown", function() {
    prev = $("input[type=radio]:checked").val();
    id = $("input[type=radio]:checked").attr("id");
  });

  // Auto Adjust Table Visually & update counters

  $("input[type='radio']").change(autoAdjust);

  function autoAdjust() {
    coinsRemaining = counterTotal.innerHTML;
    if (coinsRemaining > 2) {
      $("#plus").css("pointer-events", "initial");
    } else if (coinsRemaining == 0) {
      $("#plus").css("pointer-events", "none");
      return;
    }

    let currVal;
    let currVal2;

    if ($(this).val() === "Mortgaged Owner Occupied Home") {
      if (prev === "Owner Occupied Home (No Mortgage)" && coinsRemaining < 2) {
        displayErr("Not Enough Coins - Owner => Mortage");
        $("#OwnerOccupiedHome").prop("checked", true);
      } else if (prev === "Rental Accommodation") {
        // do nothing
      } else {
        for (let i = 0; i < 2; i++) {
          counterTotal.innerHTML--;
        }
        // fixes issues with coins going into minusg
        coinsRemaining = counterTotal.innerHTML;
      }

      if (currVal > 0) {
        for (let i = 0; i < currVal; i++) {
          counterTotal.innerHTML++;
          coinsRemaining++;
          $("#cartItem5 .unit").remove();
        }

        $("#cartItem5 > .counter").html("0");
      } else {
        // do nothing
      }
    } else if ($(this).val() === "Owner Occupied Home (No Mortgage)") {
      currVal = $("#cartItem5 > .counter").html();
      currVal2 = $("#cartItem6 > .counter").html();
      if (coinsRemaining < 2) {
        $("#plus").css("pointer-events", "auto");
      }
      if (
        prev === "Rental Accommodation" ||
        prev === "Mortgaged Owner Occupied Home"
      ) {
        for (let i = 0; i < 2; i++) {
          counterTotal.innerHTML++;
        }
      }

      for (let i = 0; i < currVal; i++) {
        counterTotal.innerHTML--;
      }
      if (currVal > 0) {
        for (let i = 0; i < currVal; i++) {
          counterTotal.innerHTML++;
          coinsRemaining++;
          $("#cartItem5 .unit").remove();
        }
        $("#cartItem5 > .counter").html("0");
      } else {
        // do nothing
      }
      if (currVal2 > 0) {
        for (let i = 0; i < currVal2; i++) {
          counterTotal.innerHTML++;
          coinsRemaining++;
          $("#cartItem6 .unit").remove();
        }
        $("#cartItem6 > .counter").html("0");
      } else {
      }
    } else if ($(this).val() === "Rental Accommodation") {
      if (prev === "Owner Occupied Home (No Mortgage)") {
        for (let i = 0; i < 2; i++) {
          counterTotal.innerHTML--;
        }
        // fixes issues with coins going into minus
        coinsRemaining = counterTotal.innerHTML;
      } else {
        // do nothing
      }
      currVal = $("#cartItem6 > .counter").html();
      if (currVal > 0) {
        for (let i = 0; i < currVal; i++) {
          counterTotal.innerHTML++;
          coinsRemaining++;
          $("#cartItem6 .unit").remove();
        }
        $("#cartItem6 > .counter").html("0");
      } else {
        // do nothing
      }
      coinsRemaining = counterTotal.innerHTML;
    } else if ($(this).val() === "Smoker-Yes") {
      if (coinsRemaining >= 1) {
        currVal = $("#cartItem3 > .counter").html("1");
        for (let i = 0; i < 1; i++) {
          counterTotal.innerHTML--;
          coinsRemaining--;
        }
      } else {
        displayErr("Not Enough Coins smoking");
      }
    } else if ($(this).val() === "Smoker-No") {
      currVal = $("#cartItem3 > .counter").html();
      if (currVal > 0) {
        for (let i = 0; i < currVal; i++) {
          counterTotal.innerHTML++;
          coinsRemaining++;
          $("#cartItem3 .unit").remove();
        }
        $("#cartItem3 > .counter").html("0");
      } else {
        // do nothing
      }
    } else if ($(this).val() === "Insurance-Yes") {
      // not in use
      // do nothing
    } else if ($(this).val() === "Insurance-No") {
      currVal = $("#cartItem9 > .counter").html();
      if (currVal > 0) {
        for (let i = 0; i < currVal; i++) {
          counterTotal.innerHTML++;
          coinsRemaining++;
          $("#cartItem9 .unit").remove();
        }
        $("#cartItem9 > .counter").html("0");
      } else {
        // do nothing
      }
    } else if ($(this).val() === "Drinker-Yes") {
      if (coinsRemaining >= 4) {
        currVal = $("#cartItem2 > .counter").html("4");
        for (let i = 0; i < 4; i++) {
          counterTotal.innerHTML--;
        }
      } else {
        displayErr("Not Enough Coins drinking");
      }
    } else if ($(this).val() === "Drinker-No") {
      currVal = $("#cartItem2 > .counter").html();
      if (currVal > 0) {
        for (let i = 0; i < currVal; i++) {
          counterTotal.innerHTML++;
          coinsRemaining++;
          $("#cartItem2 .unit").remove();
        }
        $("#cartItem2 > .counter").html("0");
      } else {
        // do nothing
      }
    } else if ($(this).val() === "Car-Yes") {
      if (coinsRemaining >= 6) {
        currVal = $("#cartItem10 > .counter").html("6");
        for (let i = 0; i < 6; i++) {
          counterTotal.innerHTML--;
        }
      } else {
        displayErr("Not Enough Coins car");
      }
    } else if ($(this).val() === "Car-No") {
      currVal = $("#cartItem10 > .counter").html();
      if (currVal > 0) {
        for (let i = 0; i < currVal; i++) {
          counterTotal.innerHTML++;
          coinsRemaining++;
          $("#cartItem10 .unit").remove();
        }
        $("#cartItem10 > .counter").html("0");
      } else {
        // do nothing
      }
    }
    coinsRemaining = counterTotal.innerHTML;
    updateCoins();
  }
  //$("#lineChart").on("click", function () {
  //    renderHighchart(personalCPI, nationalCPI, 'Personal Inflation', 'National Inflation');
  //    $(".chart1").removeClass("close");
  //    $(".chart2").addClass("close");
  //});
  //$("#percentageChart").on("click", function () {
  //    renderHighchart(percentageChangePersonal, percentageChangeNational, 'PI Percentage Change', 'NI  Percentage Change');
  //    $(".chart1").removeClass("close");
  //    $(".chart2").addClass("close");
  //});
  //$("#pieChart").on("click", function () {
  //    $(".chart1").addClass("close");
  //    $(".chart2").removeClass("close");
  //});
  //$("#reset").on("click", function () {
  //    location.reload();
  //});

  function renderHighchart(data1, data2, text1, text2) {
    Highcharts.chart("container", {
      title: {
        text: ""
      },
      yAxis: {
        title: {
          text: ""
        }
      },
      xAxis: {
        categories: months
      },
      legend: {
        layout: "vertical",
        align: "right",
        verticalAlign: "middle"
      },
      plotOptions: {
        series: {
          label: {
            connectorAllowed: false
          }
        }
      },
      series: [
        {
          name: text1,
          data: data1
        },
        {
          name: text2,
          data: data2
        }
      ],
      responsive: {
        rules: [
          {
            condition: {
              maxWidth: 1000
            },
            chartOptions: {
              legend: {
                layout: "horizontal",
                align: "center",
                verticalAlign: "bottom"
              }
            }
          }
        ]
      }
    });

    Highcharts.chart("container2", {
      chart: {
        plotBackgroundColor: null,
        plotBorderWidth: null,
        plotShadow: false,
        type: "pie"
      },
      title: {
        text: "Percentage Breakdown"
      },
      tooltip: {
        pointFormat: "{series.name}: <b>{point.percentage:.1f}%</b>"
      },
      plotOptions: {
        pie: {
          allowPointSelect: true,
          cursor: "pointer",
          dataLabels: {
            enabled: true,
            format: "<b>{point.name}</b>: {point.percentage:.1f} %",
            style: {
              color:
                (Highcharts.theme && Highcharts.theme.contrastTextColor) ||
                "black"
            }
          }
        }
      },
      series: [
        {
          name: "Catergories",
          colorByPoint: true,
          data: [
            {
              name: "Food",
              y: calculatePieChart(coinWeights, 0)
            },
            {
              name: "Alcohol",
              y: calculatePieChart(coinWeights, 1)
            },
            {
              name: "Tobacco",
              y: calculatePieChart(coinWeights, 2)
            },
            {
              name: "Clothing",
              y: calculatePieChart(coinWeights, 3)
            },
            {
              name: "Rent",
              y: calculatePieChart(coinWeights, 4)
            },
            {
              name: "Mortage",
              y: calculatePieChart(coinWeights, 5)
            },
            {
              name: "Housing",
              y: calculatePieChart(coinWeights, 6)
            },
            {
              name: "Health",
              y: calculatePieChart(coinWeights, 7)
            },
            {
              name: "Car",
              y: calculatePieChart(coinWeights, 8)
            },
            {
              name: "Public Transport",
              y: calculatePieChart(coinWeights, 9)
            },
            {
              name: "Telecommunications",
              y: calculatePieChart(coinWeights, 10)
            },
            {
              name: "Recreation",
              y: calculatePieChart(coinWeights, 11)
            },
            {
              name: "Education",
              y: calculatePieChart(coinWeights, 12)
            },
            {
              name: "Other",
              y: calculatePieChart(coinWeights, 13)
            },
            {
              name: "Other",
              y: calculatePieChart(coinWeights, 14)
            }
          ]
        }
      ],
      responsive: {
        rules: [
          {
            condition: {
              maxWidth: 1000
            },
            chartOptions: {
              legend: {
                layout: "horizontal",
                align: "center",
                verticalAlign: "bottom"
              }
            }
          }
        ]
      }
    });
  }
});
